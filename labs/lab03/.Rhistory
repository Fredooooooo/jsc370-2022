#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
install.packages('R.utils')
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
download.file(
"https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz",
destfile = "met_all.gz",
method   = "curl",
timeout  = 60
)
met <- data.table::fread("met_all.gz")
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
library(lubridate)
met[met$elev == 9999.0] <- NA
summary(met$elev)
met[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
library(lubridate)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
elev <- met[elev == max(elev, na.rm = T)]
met %>% subset(elev == max(met$elev)) %>% summary()
elev <- met[elev == max(elev, na.rm = T)]
met %>% subset(elev == max(met$elev)) %>% summary()
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
elev <- met[elev == max(elev, na.rm = T)]
met %>% subset(elev == max(met$elev)) %>% summary()
library(lubridate)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
met <- met(temp>-15)
met <- met[temp>-15]
met2 <- met[order(temp)]
head(met2)
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
met <- met[temp>-15]
met2 <- met[order(temp)]
head(met2)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
hist(met$elev, breaks=100)
hist(met$temp)
hist(log(met$wind.sp))
library(lubridate)
elev %>% leaflet %>% addProviderTiles("OpenStreetMap") %>% addCircles(lat = ~lat, lng = ~lon, opacity = 1, fillOpacity = 1, radius = 100)
hist(log(met$elev), breaks=100)
hist(met$temp)
hist(log(met$wind.sp))
met <- met[temp>-15]
met <- met[elev>-13]
met <- met[elev<4113]
met2 <- met[order(temp)]
head(met2)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
cor(elev$temp, elev$day, use="complete")
met %>% subset(elev == max(elev, na.rm=T)) %>% select(temp, wind.sp, hour, day) %>% GGally::ggpairs()
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
library(GGally)
install.GGally
install.packages("GGally")
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
library(GGally)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
cor(elev$temp, elev$day, use="complete")
met %>% subset(elev == max(elev, na.rm=T)) %>% select(temp, wind.sp, hour, day) %>% GGally::ggpairs()
plot(elev$date, elev$temp, type='l')
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
library(GGally)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
met <- met[temp>-15]
met <- met[elev>-13]
met <- met[elev<4113]
met2 <- met[order(temp)]
head(met2)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
cor(elev$temp, elev$day, use="complete")
met %>% subset(elev == max(elev, na.rm=T)) %>% select(temp, wind.sp, hour, day) %>% GGally::ggpairs()
hist(log(met$elev), breaks=100)
hist(met$temp)
hist(log(met$wind.sp))
elev %>% leaflet %>% addProviderTiles("OpenStreetMap") %>% addCircles(lat = ~lat, lng = ~lon, opacity = 1, fillOpacity = 1, radius = 100)
library(lubridate)
elev$date <- with(elev, ymd_h(paste(year, month, day, hour, sep=' ')))
summary(elev$date)
elev <- elev[order(date)]
head(elev)
plot(elev$date, elev$temp, type='l')
plot(elev$date, elev$wind.sp, type='l')
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
library(GGally)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
met <- met[temp>-15]
#met <- met[elev>-13]
#met <- met[elev<4113]
met2 <- met[order(temp)]
head(met2)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
cor(elev$temp, elev$day, use="complete")
met %>% subset(elev == max(elev, na.rm=T)) %>% select(temp, wind.sp, hour, day) %>% GGally::ggpairs()
hist(log(met$elev), breaks=100)
hist(met$temp)
hist(log(met$wind.sp))
elev %>% leaflet %>% addProviderTiles("OpenStreetMap") %>% addCircles(lat = ~lat, lng = ~lon, opacity = 1, fillOpacity = 1, radius = 100)
library(lubridate)
elev$date <- with(elev, ymd_h(paste(year, month, day, hour, sep=' ')))
summary(elev$date)
elev <- elev[order(date)]
head(elev)
plot(elev$date, elev$temp, type='l')
plot(elev$date, elev$wind.sp, type='l')
met <- met[temp>-15]
met <- met[elev>-13]
#met <- met[elev<4113]
met2 <- met[order(temp)]
head(met2)
#install.packages(c("data.table","leaflet", "rdrop2"))
library(data.table)
library(leaflet)
library(tidyverse)
library(rdrop2)
library(GGally)
fn <- "https://raw.githubusercontent.com/JSC370/jsc370-2022/main/labs/lab03/met_all.gz"
if (!file.exists("met_all.gz"))
download.file(fn, destfile = "met_all.gz")
met <- data.table::fread("met_all.gz")
dim(met)
head(met)
tail(met)
str(met)
table(met$year)
table(met$day)
table(met$hour)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met$elev[met$elev == 9999.0] <- NA
summary(met$elev)
met <- met %>% mutate(elev = na_if(elev, 9999))
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
# met %>% subset(elev == max(met$elev)) %>% summary()
met <- met[temp>-15]
met <- met[elev>-13]
#met <- met[elev<4113]
met2 <- met[order(temp)]
head(met2)
elev <- met[elev == max(elev, na.rm = T)]
summary(elev)
cor(elev$temp, elev$wind.sp, use="complete")
cor(elev$temp, elev$hour, use="complete")
cor(elev$wind.sp, elev$day, use="complete")
cor(elev$wind.sp, elev$hour, use="complete")
cor(elev$temp, elev$day, use="complete")
met %>% subset(elev == max(elev, na.rm=T)) %>% select(temp, wind.sp, hour, day) %>% GGally::ggpairs()
hist(log(met$elev), breaks=100)
hist(met$temp)
hist(log(met$wind.sp))
elev %>% leaflet %>% addProviderTiles("OpenStreetMap") %>% addCircles(lat = ~lat, lng = ~lon, opacity = 1, fillOpacity = 1, radius = 100)
library(lubridate)
elev$date <- with(elev, ymd_h(paste(year, month, day, hour, sep=' ')))
summary(elev$date)
elev <- elev[order(date)]
head(elev)
plot(elev$date, elev$temp, type='l')
plot(elev$date, elev$wind.sp, type='l')
